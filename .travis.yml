language: java
sudo: false
jdk:
- oraclejdk7
cache:
  directories:
  - "~/.m2/repository"
branches:
  only:
  - master
  - developer
  - "/^release-.*$/"
install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B
after_success:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in ./deploy/pubring.gpg.enc -out ./deploy/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in ./deploy/secring.gpg.enc -out ./deploy/secring.gpg -d
- "./scripts/deploy.sh"
env:
  global:
  - GPG_DIR="`pwd`/deploy"
  - secure: "wqeZRAbRa1FCyWKGJSw0ZPJVKb1NdyftADOZt3YDDX6P541x0pE02UOeYVtlmW6o+5TJGp3Igk/BrEeAKmBekNpiLXX58j42OSqEljKlXpmg6Z0FsUe2L1v++2N8qlXYcF0IW8mcgjSd0kY/FN/X4xWGObbER4UKwWvi571oMwKMg8670w27kGOeWYIZjU0hP19DfAGMnQBztvAJkzozQluF7d3Rtyin6mge5msAkVjncMUJ0LmBHONk2Keflq2dWeWHiBY0ftRqgh7vkcTjl2ZVivcKC3dOi6Xco8lKthzmOIHPH3SHi80VYWMNkWapmrepNUSqxp6lzndAI6xCu6Cjpa72OB2evFz4T6wkFz14l99XGNtVcYeJyU/K2nI+IatRP+zroPc3O0ds4geZGb7+mqBNkNXxuiwnXW+2Z3ANzIBnF2gPjQDnza2NPHmOULn97osU995Sx/NR6KUOkMIljG68PcmNNd3G6j9iozhGlQ6CGR0buY94BmDoN9N03Jog++JJhDKd34jHThDBVntfoh4EqSV0Xmjr+BUq7xNLP85Fm9YAIm6SaiWHUMjzO7GGLn8CmG3c7iqOr2/GUeZWP3TWuvUHHfQ/sS477j4pg26q2PkIiaDavb5oepiv9pV5xQ5hnbkOpvt3nBKj8Jtbc+dU4X3mzBDNG9jnBbY="
  - # ^^ SONATYPE_USERNAME
  - secure: "BOacVsttusrpFDNwJOuGZ20X/h7s29/6HMIXZPwr4sshHild2CoHrG7qYj4W3ySn3P2QeOtIPjBL7Mh52lQbOUSpBxk9ZjTPYxuNNzOZsoVqTBLoIitIS1qgq3xaOj7UX0izdTNAadP70xY0cp9YC0u46zwDxRz41FTL+d7qXNA/tFSeI9Q2e+P+/MsLOMWXY0nRyOJo0GzwYNa+wwasv45dEJ/lhQj6IzUpXL9CG97oQqpz7XEQ/ccWJ8uoALNn8wqA7sd1iwTHpCFlJih5Nx/FqSwy+u1GPhLLG5jBBNO4nSpCfPEbvXByM81F4zrrkO90q45sQDZnyxxsY+oFltp6OFW4lkHkpOi9sDpqTHTHT23Fp7OfD6POUsdDXr9m4LjVN4Iu4/8PBq+phz4e5x3NuwMz0p+WSI8L+xe0tFPNrLPXKgpYuWQcnR9c6h9QEJVIayM8tuY0CwLebrrdTSs5VVSzKprDgNMwOSbPXN4u7wLTOeSBjTONsb6+SAexeB85A8hdxGKp8zDe3yYlyF48pzpy87zOoSb+gjtMnx4DGsUa1Jjji6E7rKb9duGonSaNRxr563LXwVwoHhu4XNoydbCyiT6tyzwUT07TPeWq9ZDj0gEOMJF7EjErgMgM5HxMbM5ZxI2adhT8FEowZfvurXKzVK2TUhkQiDwXZ54="
  - # ^^ SONATYPE_PASSWORD
  - secure: "21zM6zZ8D5v0cx+jXln/hwPqxPkX3x+wVWH/rEFKm3fvKuw1311ht3I+XdXfSaK+CRYG/e7arnfNk5EWPJgHx0xt0G0PUTe3FtnA0Qzb7YtZBpu/Umqqmx3DFDEWrbMhu2TxrHlnTe4U9BWf2VAPBA6piChriVqEiDUotyTMdqhAO9ledv8FPE9+sC9XnY8okpIwG2x+2WoO/+RcBWaiA3FPYwDtsY5Kch6CL0CM2ZwzuVC3t127Cv73VqkgGhCa/mrEpsJIt3fndtVziXmGhUYItXHijOgVzeiTjr6HAV81B0QmKcfPjw0EXlHAOzV8p79IA49r1MVrt6sZkWS4zjdDqWQ+S2JOQ3N6PP3FeFtf6YFhH67VqDS4HsFoViMt6WYOVF7WJ0ODgn1xxk/GxLaAN+1tJcghmtPJCqod5+rYqVOeMQStY8N6w+yccWYtCC6Hk1g1nZNoz35AIOyyPzIiTEOELjynNukgDNdqdeoD6WDA+Nmu3gJs5kxOLDgqkxujT3UGQvKzqnEKY21aPD5pu24nSR+WEvZQFY2A6ZWGEqPdZ2G7ZUwSnDh2dy8u6ecTtIPos3a1Lr2Coc3ct9B2MldNTTOrXwS7tcsnWZfs/Ngc7+fbEYgfWCmQBDP6bmBec9y2edo7yE370iDzVo12lQYmwXJ6uQt3zx8jgvQ="
  - # ^^ GPG_KEY_NAME
  - secure: "laSrFAaz+a2WbuhVszesaB36NFbIFHypPi7KDF2vMZ+ARmIr9DiVPt35Psr24/I2TNFaleoHcyWXijP9mzKb22mINofAV3viIgvST6vEgm+zS/wOxPgEdduA1JX/jadKr5ltwjkYKdyYOddbwlVh8zLlpyedtXyDFDmwFLkuYf/ClHbE4MD/7R+9VvuX3FLdFUkXeQ/w8c2rZ95s6CRYXEjMA0wubjimpgueikfBZNmLgTFkDPRKq40P7A/dnMJ6bUGPQezjk7+GrQg+lF2/kA3ujW0QNRx6mUhe+oIAg4bibAOybZ6Lq4FdVGbUgc1FOnBRf27XIze+V2v2iRuOqNxFyIVy1SKifH0XzFX0cLsXPu1B9mRRUBNMIHHGTMWpbjDYP2e1sADCBQmfaIRRQyDQtdkZE3jm2+Z0etCiRKOAwrluXCLmljOVJala//Myh3x/8TTyOjCM3MX96irY1bKH1mI8HQWJQVFUrH5N6x/YuV9s5sor9f6L7zeHt5AYGfmZCAEp6ko11bXKeeQP4hww7D6MaG3YQFfdlKYCfCyc8EYyt8TliDZx0OU+lGFdfUQP7vaAhCy8v1/cNdMjeD99KfhDPIJxr72x+ZJvjv0YlMqFYDarMTRmy51lNxjbxblG4Q88+iaPMgL7F1c1ZDNBExBz6xPs0Tgr4GyMemw="
  - # ^^ GPG_PASSPHRASE
  - secure: "Ue+jLx2YdIqJcg2EWBRbsHrJ/TTAokB8D14IGyAx6VjPp2gbEj5HWW6NVlCgebKzhcNkkW3OmNm3KbhdU8Wy7PDLVFJS7t5RStmJgqSjmgE+y8fNZZIxroZEpCJmI2U3xTnkhe5PgcuAzu62ppKL9NlN0SMKfTxwEkUNnMBSJxqjwcFufFr7cYz3AI30HWjvoBXcLihbyjc0t9bq1wtHXtZ4//WBFT7gMGrMIcmPlpoZ5mS7fypCRjNY+NreRdwRgrHojcKob+vA3v2dy/IbaBJX/9HDJ9FVzCsQSj6dpPO/ZGtsT6F1N5NsDWpNFoPBj6oUqeOZIGYYPJEgh21yOGlHLsG1RYPnHS7MyUrsU4MsKW9r399qY/UNV/AzXWLudWUwAm4/jBsNm2J/9r2Dr132b+LAETn5BbrVjrvTIuioV+WEBqBP6EpXE/eYBEQN1fxo4VQQhdFMDFq34164m/r25eohnRuM82OKmUBSql5M0XNeCTUMIYxB8HJwivVxzWf0sCof4l+O0MW2SVOs9emY4sNjQ2m4YmYF1NXc2TakRRP0BefnnjPYRkJUHAp841bRqVP/HHjrmaR+i9UNnYoKAs5LTCvpj7NNFDv9k9ok7SsP3i7cXN+umncg3MREa5x1Wqm01jzM2zX21owm5wmq0wQswxhfUOH+D9CgQwc="
  - # ^^ ENCRYPTION_PASSWORD
  - secure: "hndE+r2VOG+fq7/SU1G3516tAHQjCMM2hg2817EQEeW24OywYIPyjb0p63WkqpdoeRkPVEmL+hpn1g5QiJGNPFP8szqbBSO97PeorDfHpiuq/7Od3nCAnGG0Sn625W7G4spvpDzz8I01HzhLzR6ixpNQccYG781IPJD/9/kMSWfJKyCCjVsgE9iprkgl3kRvmoxm5snU5l7gJzYQI//Oge0l6mOSL/kU+TDsOR9fXIsSRlhKANTumW0u8y0LHwuRjRspZVCLUFV6k9VM5R2KLDKxg1RfvD/CaJ/Y97pJEL+Q7BjK3xGuLMxSffnQRAPcxh4PfiZc811wsO8f3XPLMPhR6piwgYmbE4O4T18V1QMnMYs2Mp0KHFcgmCbNWEmSNunXVSd1kIt76q2x0p5hJtPtaUZu+LUtzIP06r/80QQJYC2j2fTid9qsaFvQBRwLw8OJ3DnN5YUex9LvPHFSlp0ST0EixsxDs3Vk6La1txbVSwDUDw66xVheH4rajCPny8aNINoXElNoldM8APSHKGbLlVqfO2ZMfKtHBKJ2ys/jNp3kfjV7ue+5gUr4z8naXPnuX+QBilfVE5UrMih0+aZV9S9GJtvZGpfqZrwjF7sILV6aEOjoepQekiktz2z+hYZyuYrcDBdp6u2KvCNcfFUbqfzPpIoiNv5hZuW1Amo="
  